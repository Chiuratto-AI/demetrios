# Release v0.12.0 - Documentation Generator

**Release Date**: 2025-11-28

## Overview

This release introduces a comprehensive documentation generator for Demetrios, bringing the compiler to feature parity with mature language toolchains. The documentation system supports doc comments, markdown rendering, HTML generation with themes, mdBook integration, and runnable doctests.

## Highlights

### Documentation Comments

Full support for documentation comments in multiple styles:

```d
/// Outer line doc comment (documents following item)
//! Inner line doc comment (documents enclosing module)

/**
 * Outer block doc comment
 */

/*!
 * Inner block doc comment
 */
```

### Attribute-Style Documentation

Rich documentation attributes for structured documentation:

```d
/// Calculate drug dosage.
///
/// @param weight Patient weight
/// @param dose_per_kg Dose per kilogram
/// @returns Total dose in milligrams
///
/// @example
/// ```d
/// let dose = calculate_dose(70_kg, 10_mg/kg)
/// ```
///
/// @since 0.12.0
/// @see calculate_concentration
fn calculate_dose(weight: kg, dose_per_kg: mg/kg) -> mg {
    weight * dose_per_kg
}
```

### HTML Documentation

Generate beautiful, responsive HTML documentation:

```bash
dc doc --open
```

Features:
- Dark/light theme toggle with persistence
- Syntax highlighting for D code
- Full-text search with keyboard navigation
- Copy code buttons
- Mobile-responsive layout
- Breadcrumb navigation

### mdBook Integration

Generate readable guides and tutorials:

```bash
dc doc-book -o target/book
cd target/book/book && mdbook build
```

Generates:
- Introduction chapter
- Getting Started guide
- Language Reference
- API documentation
- Appendix with keywords and effects

### Doctests

Run code examples from documentation as tests:

```bash
dc doctest
dc doctest --filter "calculate"
dc doc-coverage
```

Supports attributes:
- `should_panic` - Test should panic
- `ignore` - Skip this test
- `no_run` - Compile but don't run
- `compile_fail` - Should fail to compile

## New CLI Commands

| Command | Description |
|---------|-------------|
| `dc doc` | Generate HTML documentation |
| `dc doc --open` | Generate and open in browser |
| `dc doc --document-private` | Include private items |
| `dc doc-book` | Generate mdBook structure |
| `dc doctest` | Run documentation tests |
| `dc doctest --filter <pattern>` | Filter tests by name |
| `dc doctest --verbose` | Show test output |
| `dc doc-coverage` | Show documentation coverage |

## New Modules

- `doc/parser.rs` - Doc comment parsing and section extraction
- `doc/model.rs` - Documentation data model
- `doc/extract.rs` - AST to documentation extraction
- `doc/html/render.rs` - HTML generation
- `doc/html/templates.rs` - HTML templates
- `doc/html/syntax.rs` - Syntax highlighting
- `doc/html/assets/` - CSS and JavaScript assets
- `doc/book/mod.rs` - mdBook generation
- `doc/doctest.rs` - Doctest runner

## Lexer Changes

New token types for doc comments:
- `DocCommentOuter` - `///` comments
- `DocCommentInner` - `//!` comments
- `DocBlockOuter` - `/** */` comments
- `DocBlockInner` - `/*! */` comments

## Dependencies

- Added `pulldown-cmark` for Markdown parsing

## Documentation Coverage

The documentation generator tracks coverage statistics:

```
=== Documentation Coverage ===

Overall: 45/50 items documented (90.0%)
Examples: 30/50 items with examples (60.0%)

By kind:
  function     20/22 (90.9%)
  type         15/16 (93.8%)
  trait         5/6 (83.3%)
  constant      5/6 (83.3%)

Undocumented items (5):
  - internal::helper_fn
  - internal::Config
  ...
```

## Upgrade Notes

This is a feature addition with no breaking changes. Existing code continues to work unchanged.

## Contributors

- Demetrios Chiuratto Agourakis
- Dionisio Chiuratto Agourakis

## Full Changelog

See [CHANGELOG.md](../../CHANGELOG.md) for complete details.
